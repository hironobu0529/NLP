# -*- coding: utf-8 -*-
import spacy
import ginza
"""
2024/01/26　入れ子構造の深さを測るコード
"""
def analyze_sentence(sentence):
    # 日本語モデルをロード
    nlp = spacy.load('ja_ginza')

    # 解析を実行
    doc = nlp(sentence)

    # 対象とする係り受け関係のリスト
    target_dependencies = ['nsubj', 'acl', "advcl", "obj"]

    # 係り受け関係を格納
    arrows = [(token.i, token.head.i) for token in doc if token.i < token.head.i and token.dep_ in target_dependencies]

    # 各矢印についてnesting_relationを計算
    nesting_relations = calculate_nesting_relations(arrows)

    # 最大のnesting_relationを求める
    max_nesting_relation = max(nesting_relations) if nesting_relations else 0

    # 最大の入れ子構造の深さを求める
    max_nesting_depth = max(calculate_nesting_depth(arrows, start, end) for start, end in arrows)

    return arrows, nesting_relations, max_nesting_relation, max_nesting_depth

def calculate_nesting_relations(arrows):
    nesting_relations = []
    for i, (src, tgt) in enumerate(arrows):
        nesting_relation = 0
        for src2, tgt2 in arrows:
            #print("src, src2, tgt2, tgt:", src,src2,tgt2,tgt)
            if src2 <= tgt2 and src <= tgt and (
                    (src < src2 and tgt > tgt2) or (src == src2 and tgt > tgt2) or (tgt == tgt2 and src < src2)):
                nesting_relation += 1
            elif src2 >= tgt2 and src >= tgt and ((src == src2 and tgt < tgt2) or (tgt == tgt2 and src > src2)):
                nesting_relation += 1
        nesting_relations.append(nesting_relation)
    return nesting_relations

def calculate_nesting_depth(arrows, start, end, depth=0):
    nested_depths=[depth]
    for src, tgt in arrows:
        # 同じ向き同士の係り受け関係の入れ子構造のみ考慮
        if start <= end and src <= tgt and ((src < start and tgt > end) or (src == start and tgt > end) or (tgt == end and src < start)):
            nested_depths.append(calculate_nesting_depth(arrows, src, tgt, depth + 1))
            print("src, start, end, tgt:",src,start,end,tgt)
        elif start >= end and src >= tgt and ((src > start and tgt < end) or(src == start and tgt < end) or (tgt == end and src > start)):
            nested_depths.append(calculate_nesting_depth(arrows, src, tgt, depth + 1))
            print("src, start, end, tgt:",src, start, end, tgt)
    return max(nested_depths)

if __name__ == '__main__':
    # 例の使用法
    sentence = "全然。今日は何もない、あ、３日間何もないんで、話していただけたほうが助かります。ですね、で、金曜日復職なので。それまでは、うーん、せっかくウオーキング続けたから、しようかなって、朝。家の周りだったら割と静かなので、うーん。続けたので、うーん、５キロぐらい毎日歩いてたから。うん。行きたいです。ウエアも買っちゃったしと思って。買えばやるかと思って。で、あと、体重が、その、勝手に、まあ落ちたので、これでもう、何かキープしたいっていう。うーん。不安です。すれ違う人に何かしたんじゃないかとか、で、すごい大きい公園なので、何か余計ちょっと、プールがあるみたいな、で、何ていうんですかね、ウオーキングコースなのか、ま、それが目的なのかは知らないですけど、なんで、すれ違う人だって、幾ら地元だっていったって、知り合いとすれ違うわけじゃないので、こっちと一緒なんですよ。要は、何ていうんですか。知らない人。だけど、やたらと何か話しかけてくるし、何か、だから、何か。うん、だから、何て言ったらいいんだろう、ただ家が近所っていうだけで、で、家には家族がいるから、帰れば不安なことワーッて話して。うん、もちろんです。で、でも戻っちゃだめだよって。ある、あります。で、何か結局、私、喫煙してたんですけど、電子たばこに替えて、もちろん入院中は吸えなかったんですけど、やっぱりやめれなくて、電子たばこのままなんですけど、何かそれだけは自分で買いに行きなさいって言われて、あの、飲み物とかは、食べ物とか、困ったら買いに行くけど、自分でやめるって言ってやめれなかったからっていう、何か母親の愛情というか、練習してきなさいって。で、帰りに買って、でも、すごい何か、自分の親を褒めるのもあれですけど、すごい不安と仲よくなれって言われて、多分いろんな本を読んでくれて。父も、何か不安に名前をつけて。で、仲よくなればって、もういなくなれっていってもいなくなんないんだったら。てって、一緒に仲よくしなって言われて。で、今日はどうって、仲よくしてるみたいな、毎朝。何か本当、子供に教えるじゃないけど、何か母は、その、自分が忙しくて、仕事が好きで、私をほったらかしにしたから罰が当たったって言ってて。だから、こういう機会があって本当によかったって、で、私には悪いけどって。で、２０年間、こっちに出て上京して、一回も泊まりにとか来たことなくて、ホテルに泊まったりとか。で、今回たまたま４月に泊まりに行きたいって言われて、そのときには、もうなってたので言わざるを得なかった、遊びに来るって言ってたんですよ。えーと、ちょっと変な鬱病って言われたよみたいな、産業医さんにも言われたんだみたいな、ちょっと変だとは言ってたんですけど、さすがに、お出かけするのに言わないと。で、ちょうど次の週に外来があったので、ここの予約を取っていたので、それで一緒に来て診断、それまで泊まってっていう感じだったので、なんで、一緒に、うち、割と食事するのが、みんな好き、お酒が好きだったんですけど、私も。一緒にノンアルビールにして、私の病気が治るまでは。ワインがすごい好きなんですけど、飲まないって言って。何か、うーん、いい親だなって。それに、すごいやっぱり死にたくなったりとか自分がしたり、何か分かってもらえなくて、包丁を振り回しちゃったりとかしてたみたいで。もう死にたいって言って。でも、それでも彼女は笑っていて、何か、何か。そんなの生まれてから初めてで。だから、うーん、複雑ですけど。だから、もう年も年だし、でも、それでも年に３回は帰ってたんですけど、かずすく、あの、一人っ子ということもあるし、まあ、両親も心配だったので。でも、そんなやっぱり友達と会いたいし、出かけたいしっていうのがあって。うーん、だから、何か、まあ、複雑というか。で、絶対あなたはそんな悪いことはしないって。でも、何かそれは皆さんに言ってるのかもしれないですけど、初めて産業医の先生にこの症状を話したときは、やっぱ専門ではないので、鬱、抑鬱ですって言われて。で、私は友達に相談してて、何か私、ネットで全部調べて強迫性障害じゃないかと思うって、自分で。分かってて。で、何個か病院見つけてもらって、友人に。で、でも、紹介状やっぱりないともちろんなので、産業医の先生に書いてもらったんですけど。ここの病院だ、も候補にあってこの病院だけ先生の名前書かなくてもいい、受けてくれ、受けてくれたんです。ほかはやっぱり何か、つ、そんな知らないしと思って。で、で、かえ、で、受診をして、最初に初診の先生に受診してもらったら、やっぱり強迫性障害ですって言われて、キシモト先生が担当になったんですけど。そのときにキシモト先生も、また、産業医の先生に、鬱じゃなくて強迫性障害でしたって言いに行ったら、必ず治りますって、２人とも。何かみんなに言うのかもしれないですけど、何かみんな言ってくれるから。あと、産業医の先生も本当は処方しないで、めんどくさいときは何か病院紹介するんだけど、あなたは大丈夫って言われて、お薬を処方してくれたんですね、最初に行ったときに。でも、それもここで出された薬と一緒で。だから、う、そんなことまでしてくれたんだって。ただ、見てもらったほうがいいって、早く。うん。あ、あの、会社にはいないんですけど、いつも。１カ月に１回しか来ないんですけど、新宿にもともと何かリハビリの先生で、専門じゃないんですけど、もともと会社、会社の前、移転する前、ちょっと恵比寿にあって、診療所をやってらっしゃって、先生が。たまたま近くて、割とその、みんなお世話になってたんですよ。ちょっと頭痛いとかいったりしたら。そしたら、新宿に今、さんぶんばしに会社が移って、移転して、そしたら新宿に診療所が移ってて。で、もう３００人ぐらい会社にいるので、産業医を雇わないといけないじゃないですか。それで、その先生にお願いすることになったので、専門ではないんです。ご縁がもともとあって、会社が頼んでっていう形で。ただその、ほんとはこういうことしないけどって、受けるからにはちゃんと受けるって会社にも言ってたみたいで、多分いろいろ調べてくださったのかわからないですけど、何か鬱病じゃないって私が言い張って、何か。でも診断書書いてほしいって言って、失礼かもしれませんがって言って。何か、あ、て、心療内科に行きなさいって言われてたんですけど、どこに行ったらいいか正直分かんなくて。やっぱ認めたくないっていうか、精神科って結構。ハードル高いし、で、いい先生に巡り合うまで何個も行きなさいって言われて、いや、そんなこと言われてもと思って。合う、合わないがあるから。そんなこと言われても、いっぱいあるし、何だかよく分からないしと思ってたとこに、まあ親友がそのときは一緒に来てくれて、産業医の先生のところに。私が行くの、これは怖いって言ってて。で、親友に三つ、何か知り合いでお医者さんっていうか、関係の人がいるみたいで、その中に、け、ここの病院が入ってたんです。で、初診の先生がいい先生だったので、ウチダ先生かな。その人が私、担当になるのかと思ってて。そしたら、あの、専門が火曜日の先生ですって言われて。キシモト先生だったんですけど、最初、苦手で、何かクールだから。だけど、全然、あの、うーん、入院早めてもらったりとか。あと、病室に入院してるときに来てくれたり。何かあまりなさらないって聞いたので。何か入院できてないのみたいになって、１カ月半待ったんで。そしたら緊急外来対応にしてくださって。で、ちゃんと約束どおり２週間後に、しかもきれいじゃないですか、病棟。ラッキーと思って、そしたら、さいしゅ、退院する１週間前か２週間前の火曜日に、ふらってやってきて。あ、びっくりしたと思って。様子見に来たって言って。うん、何か、で、みんながびっくりしてて、めったにないよみたいなこと言われて。あー、そうなんだって言って。心配してたんじゃないって言われて。何かいい先生に、あと、入院の担当が違う先生だと思ってなかったから。で、びっく、えって言って。だからそう、びっくりして、で、その先生のほうが、要はお付き合いが長いわけですよね。だから、退院した後にどっちにするって言われたんですけど、その担当の先生は月曜日で、月曜日って大体仕事が忙しいから、休み明けで。通うんだったら無理だなと思って。私、どっちでもいいって言ったんです。だってキシモト先生もよく知らないし、でも、うん、何か、まあご縁があるのかなと思って、火曜日のままにしてよかったなって。うーん。私、入院の担当の先生も、そのチームの方も、ほんとによくしてくださったので。何か、こ。ここまでして、ここまでしてくれる病院って、大学病院って、いい、正直その、いいイメージがなくて。でも、私の話聞いて、泣いてる看護師さんとかいたし。私、きちんと話せるんで、やっぱり。身なりをちゃんとしなきゃっていうのもあったり、いるので、まあ、ただの元気な人というか、症状さえ出なければ。だから、１回だけ、死にたいって言ったときがあって、そのときに緊急チームの先生が、何かすごい優しい方なんですけど、何か怒ってくれて、初めて。で、多分それが看護師さんたちに伝わって、みんな代わる代わる会いに来てくれて。いや、でも、何かそんなふうにまでしてもらえるんだと思って。うん。ほんとよかったなって思ってるんですけど。だから、う、うーん、うん、でも、う、何かなかなか治らなくて、そこまでしてもらってるのに、それが悔しい。母にも父にも友人にも、うん、何か申し訳ないっていうか。だから早く仕事がしたくて、多分、か、１人でいないほうがいいというか、考えちゃうから。できちゃいます。だから、次々出てくるんですよ。１個の不安が終わったら、また１個。あれって。それを消すのに、次々、次々出てきて。そのサイクルが乗り越えれば乗り越えるほど早くなった。うん。うん、どんどん来て、１個もう大丈夫みたいな。その時間が短くなったんですけど。は、な、短くなったんだけど、その代わりに、どんどん来るから、うーん、なん、何だろうみたいな。前は１個のことが結構、長くて、はあって思って。そんで、だけども、どんどん来るから、えいやって飛ばしなさいって言ってたんだけど、そんなこと言われてもって言って、飛ばしてるのかな、飛ばせてるのかなって言ってる感じです。次々。あと、小さい子とかご老人とかもだめですね。何かしちゃったんじゃないかって思うみたいで。弱い方。弱いって言ったらいいのか分かんないですけど。うーん。異様に反応するし、あと、その、自分がちょっと悪いなって思ったときの気持ち、ちょっとどいてほしいなとか、じゃまだなあとか思ったときの気持ちに合っちゃった人が最後に多分残る。だから、改札前って。それまでは何個も不安あったのに。そう、捕まってもいいや、もういい、何でもいいよみたいに思って乗り越えてくるための気持ちだったんだけど、あれ、ほんとにしちゃったかなみたいな。要は、うーん。そう、でも、まあ、その前も多分そういう感じで、もういいよ、どうなってもみたいな、こう、乗り越えるための勢いなんだけど、その最後に見た人が要は、もういいや、何でもみたいな、何もしてないし、どうせみたいなときに見ちゃった人のことを気にしてる。だから要は、ほんとにしちゃったかもしれないじゃんっていうのが、何でだろう、なっちゃってもいいよ、もうみたいな。うーん。何か失敗に終わるという、いつも。だから最後の人、大体。出てくる。うん。でも、何かあまり、私にあまり何か。何か先生もおっしゃってたんですけど、薬が効くタイプでもないっぽくて。うん。でも、飲まないよりは抑えられる。ピタって止まる人もいれば、人によって違うから。何かずっと考えてるんですよね、だから。でも脳が疲れてるんだと思うんですけど。ずっとこうしゃべりながら考えてるんで。何かどうしたもんだかなっていう。うん。が、その、ちょうど何かまあタイミング悪く生理前だったんですよ。で、前も入院してるときに、友達の面会もこど、断ったときが生理前で。何かただでさえ落ちるときに、びょ、症状が悪化しちゃって、で、またタイミングよく、大体そのときって何かあるんですよ。何かその実家に帰るとか。だから、タイミングが悪いというか。だから今回も、薬が切れるのと、生理中なのと、１人で戻ってくるっていうのが全部重なっちゃって。だから、何がどれかが分からない、いつも。言えないし、で、で、その、にゅう、退院する１週間前もちょうど生理になるときで、そのときに初めて、何かその課題というか、曝露法をお休みしたんですよ、１日。もうだめで。で、友達にも会い、会えなくて、多分、迷惑かけちゃうなと思って断って。そのときも生理前で。だから入院、退院するからじゃないって言われてたんですけど、だ、どれがほんとか分かんない。たまたま、うん、何か遅れたり早くなったりしても、たまたまそこのときに来るんで、何か。一緒に、ゆってくるから、勘弁してくれと思って。うん。何なのかは分かんないですけど。あと、いろんな病気を疑うようになったというか。あの、ほんとに強迫性障害なのかなって、何か思うときもあって。何かこんなに話せるし、何かもう一人いるみたいな、違う病気、要は、精神疾患なのかなと思って調べてみたりとかしたり。何か無駄なことに時間を使っている気がするというか。先生を信用してないとか、薬が効かないからとかではなくって、何か。分かりたいから、本を読んでみたりとか、今さら。何かほんとの人の、なった人の本を買ったりとか。うん、何か知りたい、うん、し、治したいし、何か同じ症状の人がいないから。鬱病になった子はいるんですよ。私の幼なじみの子が、さ、幼なじみの子が３年ぐらい、多分、今で言うもっと十何年前なんで、こんなポピュラーになる前、鬱病っぽくなって、精神、通ったよみたいな。確かに私、そのとき病院に付き添ってるんですよ、一緒に。で、でも、全然もう子供もいて、旦那も、とも仲良くて、ばりばり全然仕事して出張とかもやってるぐらいな人なんだけど、多分２０代の前半かな、２０年ぐらい前に、多分なってて、確かに付き合ったわと思って。あー、あのときかって思って。でも、やっぱ３年ぐらい前から、私は確認癖があるから変だなとは思ってたって。うん、っていう、思ってたよって言われて。家族ぐるみでもう長いんで、付き合いが。だから、うん、何かそういうふうに言われて、何か鬱かなって思ってたけど、そういう病気だったって言ったら、うん、だって変だったもんって言って。何か、うん、あの、ちゃんと帰り帰れたとか。何かまめになったなって、まめに連絡してくるなって思ってたんだけど、不安の分だけ多分、連絡してたんだねって言われて。うん。そう思わる、思うと、誰かとこうやってはな、いっぱい話すときは、不安なときなんですね。だって、ここ出たら、また戻りたくなっちゃうから。うーん、何か職場に、えっと、後輩がいて、その子は、うーん、病院に行けって言ってもいかないんですけど、多分ここの病院の産婦人科か何か通ってる子で。で、その子は、ガスが、あ、たばこ吸うんですけど、心配で何回も戻るんだって言ってて。あと、コンセント。うん、何だか知らないけど。会社の、なんで、金曜日に帰るときに、金曜、土日うち休みなので、あの、普通のカレンダーどおりなので、新宿から２個ぐらいなんですよ、電車で、その最寄りの駅が。で、駅から１、２分で近いんですけど、新宿まで行ったのに戻るって、コンセントを見るために会社に。で、私が初めてその話を、何か喫煙所仲間というか、その子もたばこ吸ってて、そのときに、何か変なんだよねみたいなことを私が言ったら、私、エリっていうんですけど、エリさんって言って、実はさ、みたいな。私もね、今、彼氏と暮らしてるんだけどって、何かその実家にいるときからでとか言って。えーって言って、病院行けばって言ったんだけど、だから気持ちが分かるって言って。でも、それ以外はなくて。だから、毎日、まい、毎日お昼一緒に買いに行ってくれて。ほんとは確認しちゃいけないって、だけど、ご飯食べれないじゃんって言われて。だから、でもその子は、病院には行ってない、だから、うん。いい、行ってみって言ったけど、ほかのことは何にもなく、らしくって、うん、それだけっぽいですけどね。うん、でも、な、あとみんな調べてくれました。うん、みんな調べてくれました。あと、私が送りました。あの、ラインでファイルにして。何かうまく説明できないからって。何か、ま、まとめサイトみたいなやつを。だから、うん、多分、鬱じゃないと思うよってみんなに言われて。分かってるっていうか。うん、あと、何かその、まあずっとお酒好きで飲んでたからか分かんないですけど、割とまあ普通の体重だったのに、多分６キロぐらい、普通に２カ月もたたないうちに痩せたんですよね。顔はあまり変わんないんですけど。で、まあ年なんで、ここら辺減ってくるじゃないですか。何かこう、何か。いや、で、だから会社に行って毎日会ってる人たちは、元気でしゃべるけど、痩せてくけど何だろう、あの人みたいな。うん、あと会社は休まなかったのに、休むようになった、遅刻したり。で、でも、鬱病だって言われるのもしゃくだから、ほんとのこと言おうと思って、聞かれたら病名を全部言って。だからバイトまで、うちのバイトまで、近い人は知ってます。うん、みんなき、きっと見送りまでしてくれて、毎日５時で時短の子と一緒に上がってて。で、私、電車に帰りは乗れなかったので、やっぱり戻っちゃう、なので、タクシーで、タクシー乗るところまで見送ってくれて、で、タクシーから降りて、ちょっと歩かない、何て言うんだろう、住宅街で。で、母が待ってるところまで猛ダッシュで行って、でもタクシーの運転手さんに電話しちゃったりとか、何かしてませんでしたかとか。でも、今度はそれを防ぐために、タクシー乗るときに正直に話す。私、精神的疾患を患ってるので、もし変なこと聞いてしまったらすみませんって。そう、あたふたしても。だから聞かれたら、やっぱり鬱病って聞かれるひ、場合が多くて、休職してるときって。うん、でも鬱病の人をばかにしてるんじゃなくて、私は併発しただけであって、こういう病気があるって知ってほしい。自分のことを知ってほしいのもあるけど、もしかしたら会社にもそういう人がいて。役に立ちたい。で、１人はそれで、私に相談しに来て、入院してるのに。で、えーっと思ったけど、聞いたら、適応障害で、産業医のとこに行けって言って。で、いし、今お休みしてます。でもやっぱりその子に対しての今度、心配になっちゃって。ちゃんと生きてるだろうかと。よく過剰反応な連絡をするようになってしまって。逆効果だという。何か断ればいいのに。だから、先生たちに怒られたんですけど、何でみたいな。相談乗ってる場合じゃないからって言われて。でも、入院してるの知ってるのに来るぐらいだから、よっぽどつらいんだろうなと思って。うん。そうですね。２回ほど来ましたね。なので、インスタのほうも休んでる間はやめようと思ったんですけど、コメントオフにして、病気のことを書いてます。いつもの投稿と別にして。私、絵描くの好きなんで、絵だったりファッションだったりが好きなので、載せてるんですけど、それとは別、アカウントはそのまま一緒で、病気のことを日記って書いて。見る、見るし、もちろんそれで個別につながってる方からは連絡は来ることもあるけど。で、批判的な人もいて、わざわざ書かなくてもって。フォロー外す友達とかもいたりしましたけど、でも、連絡が取れなくて、で、そのメールとかも怖くなっちゃったんで、１回変なこと送ったらどうしようって。心配させてるよりも、私はこうですって。私、芸能人でも何でもないし、ただの一般人なので。ちゃんとした強迫性障害ですって感じでは載せてないですけど、強迫行為があるってことと、観念が浮かんでくるってことと、不安が多いってこと。で、今日はこのぐらいとか、うん。何か紙だと捨てちゃうんで、多分、つらくて。あと何度も確認しちゃう。消しちゃう。うん。だから、携帯なら。誰かのところには残るから、私が消しても。うん。うーん、でも何か不安が増えた気がする、多分。余裕ができたのかもしれないから、どんどん来る。買い物にも行けないし、何かくやし、美容室も、私、毎月１回行くんですけど、ショートなんで。でも、美容師は１５年ぐらいの付き合いなので、担当変えてないので、母に一緒に来てもらって、病気のことも言って、んで、だから、はさみとかもだめで、やっぱりその何かしちゃったんじゃないかと思うから。でも、はさみ使うじゃないですか。だから、わざと隠してくれたりとか。母が、そう、一緒に来てくれてて。でも、来月からはもう１人で行かなきゃいけないけど、だから、病気のことはもう歯医者さんも知ってるし、ちゃんと話していかないと、ただの変な人なので。電話しちゃうし。でも、それが本当は確認してほしいのかもしれないですよね、もしかしたら。だって、１人、自分じゃ自信がないから、何もしてませんよって。欲しいのかもしれない。うん、だから治んないんだよって、多分、前にキシモト先生かな、誰かに言われた気がするけど、何かさっき顔見たら泣いちゃって、安心しちゃって。で、何か、で、笑っちゃったんですけど、先生も笑ってて。私、絶対泣かなかったんで。うん、でも前向きだからっていつも言って。あと、絶対しないと思うって。うん、できないと思うって、優しいからって言ってて。おっしゃってくれて。何か、うーん。うん、自分のことだけでいいんですけどね、今は。ひに、ずっと多分、考えてます。確認、うーん、でも、もういっかって正直思えてきてるし。ただ、何かほんとにしてたらどうしようって思ってるんだと思うんですよね。だから、でも、うん、確認したい気持ちと、行ったらまた同じだよって、何度も行くよって言ってる自分と、います。やったかもしれないって、その思ったときに。うーん。で、その改札の前で見た女の人だけ覚えてるとか。だから今もそこに戻って、何もないなって確認したいけど、行ったらもうずっと帰れないと思います。だから、そのほうがいいのか、ちゃんと電車で帰ったほうがいいのか、何か悩んでる。が怖い。でも、ほんとに何かしてたら、もう騒ぎになってるかな。うーん。うーん、何か分からないですね。全くないですね、その不安でいっぱいで。うん。でも、うちに帰ったら帰ったで何もすることがないから、改札のことをずっと考えてしまうのかもしれないし、もしかしたら、駅に電話しちゃうかもしれないし、何かどうしたらいいか分かんないんですけど。よかったです。でも、多分してたんだと思うんですけど。うんと、でも、何か、うーん、だり、な、何だろう、仕事してる母しか出てこない。父も。何かちょっと夜勤とかがある仕事で、父は。その、朝番と昼番、何か遅番みたいなのあって、でも、さすがに一人っ子なんで、写真はいっぱいあるんですよ。出て、何かどっかに出かけたとか。で、父も一人っ子なので。で、多分そういうのでいっぱいあるんでしょうけど、記憶がない。おじいちゃん、おばあちゃんの記憶しか。だから、かわいがってはもらってたんでしょうけど、もちろんほったらかしにされてたこともないんでしょうけど、何か、うん、反抗期もなかったし、私。習い事ばっかさせられて、何か面倒くさい、何か、かったんだ、ときがあるって母が言ってた。仕事も今、たの。そうなんですよ。だからもう、何この人と思って。何か兄弟みたいな。でも、何か絶対、私を疑わないから、病気に関しては。それ以外はやっぱり、まあ、普通に嘘つけば怒るし、何ていうんですか、普通ですけど、病気に関しては、あなたは絶対に治るからっていう。だから、母、もう帰ってきなさいって言われてたんですけど、仕事辞めて。でも、私がきっと後悔するって。１５年勤めたんで、今の会社。だから、１カ月は働きたいって言って。働いてみて無理だったら、うん、辞めようかなみたいな。だから、出稼ぎしてくるって地元の友達には言ってて。みんなこっちに来たりとか、結構、自分で会社やってる人が多いんで。みんな自由人なんで、何か東京来たりとかするんですけど、出稼ぎ行ってくるわみたいな。はい。なんで、仕事は、で、今日もさっき病院に来る前に電話して、ほんと無理だわって言って、もう帰りたいって実家にって言ったけど、働くんでしょって。でも泣いてましたね。多分、苦しいって言って。多分、私がその興奮して、多分しゃべっちゃったんで、もう死にたいって言って。もう行きたくない、病院もって。でも、負けないでって。だから泣いてたなって今思えば。でも、うん、しゃべってたいっていうか。うん、どうしたらいいか分からないくて。すいません。だから、今回はついてこなかったんです。いつまでもそんなことしてたら治らないからって。うん。うん。と思います。何かあの、寝る前に、何だっけな、睡眠導入剤もらってたんですけど、何かそれ入院してたときからなんですけど、何か例えば１０時に寝たら、３時とかに目が覚めちゃうんですよね。多分、導入剤のほうなんで、ルネスタかな。ん、寝れるようにみたいな。だから、熟睡して起きちゃうんですよ。で、３時かよみたいな。それがあれだから、１回それを飲まないでみようかって話になって、それはだって睡眠の薬なんで、別にその。いいからと思って。でも、ま、目は覚めますけど。で、その、薬で熟睡させてるときは、もう３時から起きちゃうんですよ。で、二度寝ができなくて。入院してるときも。で、３時までだったら追加で薬もらえたんで、もらってたりしてたんですけど。でも、飲まなくても寝れるようになって。ました。でも、何回も逆に起き、起きるから、飲んでたほうがいいのか分かんないけど。ただ、やっぱり不安が強い日とかは、正直飲んでっていうように、そっちは調節してました、自分で。やっぱ朝、歩きたかったんで、もうろうとしたくなかった、ま、もうろうとするような薬ではないって教えてもらってたので。ただ、その、ねつ、寝れなかったので、今までは。ね、寝付きがよくなる。導入剤だから、飲めばすぐ眠くなるというか。睡眠薬ではないよって言われてたんで、だから、次の日にだるいとかもなかったし。ただ、時間がね、ちょっと。３時ってと思って。うん、でも寝てるんですよね、５時間。だから、何かその、うん。だから元気でいる、どこも体は壊さずいれたんでしょうけど。うん。うん、昨日はさすがにやっぱ緊張してたのか、で、薬もなくなってたので、で、何か家に置いてきちゃったと思ってて、そしたらあったんですけど。でもう、忘れてると思ってたから、やばいと思ったけど、寝たけど、やっぱ寝た気はしてないかな。うん、し。お薬処方していただけ、んー、変わらずにっておっしゃってくださったので、とりあえず薬を飲まねばとは思ってます。頼りたくはないんですけど。うん。見れます。大丈夫です。やっぱ地震。ない。うん、ただ、あの何か殺人事件系のサスペンス的なのは見せないように、多分両親がしてて。うん。チャンネル変えよっかみたいなこと言われてたけど、何かそれで、何かをするってことはないかな。気持ち悪いのは嫌ですけど。うん、もともと苦手なんで。何か映画見に行きたくて、ま、たまたままた立地がよくて、すぐそこに映画館があって、実家の。何かたまたま、何か全てが田舎なんで、凝縮されてるんで、で、母と見に行きたいねって言って、一緒に行ったんですけど。そういうことが一緒だとできるんですよ。聞きますけどね、今、私何かしてなかったとか、隣に人いたけどとか。うん、だけど、知らないって言われて。うん、あの。戻ってくる、戻るなら１人で戻んなさいって言われてたんで。で、そういう映画とかも、私、おっきい音とかちっちゃい頃から苦手で、ちょっと三半規管がちょっと弱いというか、乗り物とか、急激なスピードとか。そう、だけど、だい、で、前、具合悪くなっちゃってっていうときもあって。でも、そい、何か見れたから。見たかったからかなのか。うーん。大丈夫っぽい。そうですね。でも、だって鍵は私、気になんないんですもん。閉まってるっしょっていう感じなんです。でも、ガスは気になる。最初が火だったから。だから、要は、鍵を締めなくて迷惑がかかるのは自分ですよね。でも、火をつけちゃったらマンションごと燃えちゃうから、要は人に関わることがだめなんだと思います。だ、自分が我慢できることだったら大丈夫です。うん。多分、鍵は全然心配じゃないんです。締めてるっしょっていう。私、自分の危害は何にも不安じゃないんです。かなと思う。このことだけです。うん。でも、やっぱ食べ物を今、包丁も無理なんで、無理に持たないようにしてるから、買いに行かなきゃいけないんだけど、それができないので。うん、できるんですけど、慣れれば。でも、多分、昨日の今日でやんないほうがいいなっていう。で、うーん、やっぱ戻れる距離のところで買い物しちゃうと戻っちゃうので、何ていったらいいんですかね。だから、しょく、食べたいって思いはないんです。お腹空いても、出され、失礼な言い方ですけど、実家って出るじゃないですか。で、だから、出されたら食べる。は、ないですかね。入院中も、出されたら食べるし、あと、禁煙してたんで、何ていうんですか、口さみしいからコンビニで、あの、課題で行ったときに買いだめして、何かフルーツとかが好きなので、フルーツとかを食べる。でも、食べたくて食べてるわけじゃなくて、たばこの代わり。うん。ずっとです。食べてる。食べたいし、飲みに行きたいし。だ、今は、あったら食べるけど、ないならいいって。多分、お腹は空いてるんですけど、お腹が空いたものみたいな。でも行ったら、また怖いしなみたいな。だから、明日、ちょっと慣れるまで、しょ、食品が届くことになってます。でも受け取りも最初だめで。ヤマトさんに何かしちゃったんじゃないかと思って、母がいたんで受け取ってもらったりとか。私、通販でしか余り買い物しないんですけど、だけど、そんな受け取ることも勉強で、練習だからって言われて。うん、何かもう全部練習で、だから全部を一緒にやろうとしちゃうんで、焦って。で、逆効果っていう。うーん、だから、今日も行っちゃおうかな、タクシーでって言ったんですけど、何か、そ、うん、かく、なん、とりあえず自分に自信がないんだと思います。今しゃべってても不安ですし、でも多分タクシーで帰るんだと思います。そうおっしゃってくれるんですけど、先生も。でも、それじゃあ、認め、何か自分がどんどんひどくなってるような気がしちゃって。それが認められない。どうしたらいいんでしょうか。うん、多分。一個一個は踏めない。うん、早く治ってくれみたいな。か、の、言い方を変えれば。長くないって思うけど、でも、４カ月でしょって言われたら。半年か。まあ、いつ発病。まあ、うーん、何年単位の人もいるんだよって言われても、人は人じゃんみたいな。薬も変えてもらって、何回も変わってるのに、何かよくなった気がしない。うん、何にも。何も変わってないなって。うん。何か１人で頑張ったことがないんですよね。だから要は、入院って守られた空間にいるじゃないですか。あとはお母さんがいてくれたり、あと、母がずっといたわけではないので、父がいるんで、２週間帰って。その間は、もう家から出ないみたいな、私は。でも、来るって分かってるから我慢できる。うーん、だから、休みが来るのが怖かった。うん、そう。だけど、買い物行けない、だから、もういっつも会社の帰りに全部買って、タクシーに乗って。何かみんながそうしろって言うから。何か無理にストレスをかけちゃいけないって最初は言われてたので。うーん、だけど、何かずるいような気がしちゃうし、何かいつも誰かに守ってもらってる、実家もそう。だから、１人で乗り越えなきゃって。何もできなくなっちゃうし、その不安を消したい、早く。でも、なかなかいなくなってくれなくて。何ならもっとやってくるようになっちゃって。だから、多分ひどくなったという思いがある。うん。困ったもんだなって思ってます。それはネットでできるから、毎回見てて、何か私、私服なんですよ、職場が。で、何かその、何か、うーん。いや、何かその。もともとお洋服とかおしゃれするのが好きで、何かそれも、何かその、自分に自信がないから、何か個性的な顔立ちだし、何かその体型も何か微妙だしみたいな。だから、きかざ、何ていったら、うまく言えないんですけど、多分そういう、どこかにだけ、あと、もともと何かお洋服の関係の家ではないんですけど、元をたどれば問屋で。うん、何ていうんですか、本家っていうんですか。お分かりになります。何かその本家と分家ってあるんですけど。本家が今も会社をやってるんですけど、糸関係の問屋で。なので、ばあちゃまは、いろいろ服作ってくれたりとか、そういう感じで。あと、母とか父も絵が好きなんで、描くんですよね。なんで、そういう。そうなんです。で、ずっと絵を描いてたので、休みのときも。うん、何か親友が持ってきてくれて。好きだったから描きなって言われて、描いてたりしてたんで、そういうの欲というか、そこはちゃんとしなきゃって。だから、美容室には行きたいけど、１人で行けないから、母お願いしますって。あと、眼鏡をかけてたんですけど、私ずっと。でもコンタクトにずっとしたくて、でも、もうパソコンを使う仕事でどんどん悪くなって、でもコンタクトをして、にしようと思って、休みの間に。もうできることは全てやろうと思って、せっかくだしと思って。で、うん、そうしたり。でも病院に行けないから、実家に帰ったときに、眼科に一緒に行ってもらって。それで歯医者も、ちょっと歯並びがコンプレックスなので、でも行けなかったから、近所のに電話して、痛くなったのもあったんですけど、そこは１人で行きましたね。パニックでしたけど。でも先生も知ってるし、はの、病気のこと。そうですね。でも、やっぱ電話しちゃったりとかしてて。何か、うーん、何かよくなったよって言われても、どこら辺、何か全てを完璧を求めてしまうから。それが自分で、ま、何かふざけて生きてきたと思ってたんで、何か友達から言われたり、人から言われて気づいたっていう。几帳面、何か神経質。多分、それだから納得いかない、うーん。いかないっていうか。何か入院したら治ると思ってたって最初言って。何か難しい病気じゃないと思ってたけど、私、すごい調べたんで、先生がやりづらいって言うぐらい。言われる言葉とか分かっちゃうから。うん、で、だから、うん、そうやって言うんだよと思って、やりづらいって言ってふざけてこう話してくれたりしてたんですけど。うーん、で、その中で、完璧主義だって言われても、え、よく何かそそっかしくて抜けてるって言われてたから、どこら辺が完璧主義なんでしょうかっていう、何かワードがたくさん出てきて、病気になってから。うん、何か自分が思ってる自分と違ったというか。うーん。うん、多分。あと、離れてった人はいらなかった人だと思えるようになったというか。はい。うん。一番つらいときにいてもらえない人は、友達じゃないと思うので。何かそういうことはできるんですけど、何でかな。わけ分かんないとこにこだわってる。ま、病気なんだよって言われて、そういう病気なのって言われて。うーん、何か、わ、うん、見られてるのか何なのかが分からないです。うん、何かしてきていいよって言ってくれたんです、入院してるときに。もし、入院中に外出してって、私が何かをしてきたら、どうするんですかって、何かもう半切れで、行きたくないって言ってるのに行かされるし、何か外泊もできなかったし。外泊もだめで、ほんとはここから会社に通う練習もしようって言ってたのに、何もできなかったんですよ。たい、症状がよくなくて。で、悔しくて。外泊も家に１回帰って練習してみようみたいな。でも、だめで。で、それも悔しくて。でもそのときに、いいよ、何かしてきてもって。僕たちが見る目がなかったってことだからって。そうじゃなきゃ外に出さないって言われて。何か携帯見せられて、そこのコンビニ行ってきてって言われて、わざとたばこ売ってるところに行かされて、ライターとか。で、何回戻ったって言われて。チャート書かなきゃいけなかったので、何パーセントの不安かっていう。うん。しました。あと、下のこん、下っていうか、ローソン。に行って戻ってくるだけなんですよ、私の課題は。でも、それでも戻りたい。でも、何回も戻って、怒られて。うーん。でも、やっぱ生理前は何もできなかった。あんま、でも何か年齢的なものなのか、最初、更年期だと思ってたんで、何なら、この病気を。年齢的な。そうそうそう。だから、更年期かな、若年性とかはやってるしなみたいな感じだったんで。うん。あんま。っていう感じかなって思ってます。うん、ですね。何かろくなことがない。うん。右です。何か妄想と違うって先生がおっしゃってて。例えば首を絞めて帰ってきて、その人が倒れてるんじゃないかって思ったりするんですよねって言ったじゃないですか。さっきの改札前で、武器がないんであれば、自分の手だじゃないけど。でも、それが妄想じゃないんだよって、強迫観念なんだよって言われて、何が違うんだろうと思って。ただそれだけ。何か私も妄想だと思って、あと友達にも、言わなくていいことってあるじゃないですか。秘密にしておくべきこととか。そういうことを言って、ラインをして、消したんじゃないかとか思うんですよって言って。何か妄想ですよね、それってって言ったら、妄想じゃない、妄想とは違うんだよって。脳科学的には、それが強迫観念なんだよって言われて、え、じゃあ妄想って何と思って。うん。何かそれ、それを妄想のことを強迫観念と呼んでるのか、もうほんとどうでもいいことなんですけど、何かそうすると、病気が違うからねって前に言われてて。分かんないんです。妄想じゃないのって思って。だって、ないこと作ってるってことじゃないのと思って。何か、それも強迫観念なんだっていう。理解に苦しむところで、何が違うんだと思う。うん。だから知ったところで納得するだけなんでしょうけど。ふーんっていう感じ。妄想じゃないよっていって。いや。何か違う病気だと思ってるんです。うん。なのかなって。薬もあんまり効くタイプではないしっていう、まあ若干、疑いがあるのかもしれないですね。うーん、でも、はっきりおっしゃるんで、強迫。誰に話しても。だからもう、それ間違いであるまいと思う。うーん。今日聞いてみたんですよ。何か聞きたいことあるって言われたので。妄想っていうんですかって言ったら、それは違うよっていう、な、へえっていうので戻ってきちゃったんですけど。うん、何か、何なんだろうなって。うん、じゃ妄想ってどういうことの、ことを妄想っていうんだろうなって思ったんです。うん。難しい病気だなって思いました。だから何が違うんだろうとか思って、その違いを知りたいだけなのか、聞いてすっきりしたいのか、ちょっとそこは分かんないんで、今日はそ。うん、でも何か、確実によくなってるっていう、っていう見解なんですよ、先生は。ひどくなってるんですっていうのも、なぜ伝わらないと思ってるから、ちょっともやもやする。で、お薬の量変わりますかって言っても、変わらないし、何かもっとこの、ぱっと治んないのかねって多分。いらいらしてるというか。うん。うん、って思い出してきちゃったのかな、暇だから。分かってます、はい。だって不安症だって、かなと思ったんだけど、不安症でもない。もともと心配性っていう、うーん。あと、統合失調症も疑って。うん、何かその、でも、ぜん、違うって言われるし、うーん、何だろうって。あと、そもそも強迫性障害の人が近くにいないから。分かんないっていう。うん、どうなんだろうな。同じ病気の人としゃべんないほうがいいのかなって思ったりもする。あるのかなって。で、私はいいように作用しない気がする。もらいやすいんです。そうそうそうそう。うん。だから本がいい。あの、うん。うん。うーん、何かその強迫性障害の人は、ほんとにしたりした、みんな絶対しないって言うけど、絶対ってないと思ってて。だって実際、社会ではいろんな事件が起きてて、じゃないですか。それなのに、何で絶対って言うんですかって聞いたことがあって。そしたら、強迫性障害の人は、できないんだよって、殺人とか、火事にほんとにするとか。怖いからやらないから、絶対って言ってるんだって言われたんですけど。実例があったら外には出せないし。うん。だから、でもそんなこと言われても、何でそこまで他人を信用するんだろうって思ったり。何か、う、うーん、私、自分のこと信じられないのに、何で周りは私のこと信じるんだろうと思ったり。うんうん、何かタイプ、どうやら。可能性はある。だって、よくニュースで言ってるじゃないですかって言ったんですよ。そんな子だと思ってなかったみたいな。やるような人じゃなかったって。そういうタイプだったらどうするんですかって言ってたんですけど、もはや何を知りたいくて怒ってるのって言われて。うん。そっかと思って。多分、うーん、多分焦りが半端ない。うん。行っちゃって。ゆっくりできないし、あと朝が来るのが怖いです。１回リセットされちゃうから。寝たら。もやもやが帰ってきちゃうから。行くんですよ、時間が決まってるから。病気のときも。うん。うーん、なんですけど。でも、多分働いてたほうがいいんで、今回の診断書はフル勤務可能ですにしてもらったんです。そうしないと、あの、２１日に行ってから考えようと思ったんです。そしたら、会社が先に言わなきゃいけないくて。時短にするとか。分かんないじゃないですか、そんなこと。だから、もうフル勤務で行きますにしてもらいました。うーん、フルにします。で、その後にだめだったら、もう産業医の先生から会社には、２１日に行きますっていうのは伝えてもらってるんで、あと時間だけ会社に伝えなきゃいけないんで。それを今日診断書もらえるからって言ったんで、明日、電話するんですけど。はい。ないですね。いや、５時と思って。だって戻れるじゃんって思っちゃうんですよ。またタクシーなんて、そんな生活できなくなっちゃうから、毎日。あ、はい。あ、全然、大丈夫ですか、逆に、すいません。私がおしゃべりし過ぎてて。はい。はい。あまりそう思わないで。４番。３番。少しそう思う。あまりそう思わない。うーん、４。６。うん、興味はあるのか、５。４。えー、実力。は、わかん、４。４。いや、１。５。はい。いや、健康です。あー、はい。はい。４。６。"
    arrows, nesting_relations, max_nesting_relation, max_nesting_depth = analyze_sentence(sentence)
    print("arrows:", arrows)
    print("nesting_relations:", nesting_relations)
    print("max_nesting_relation:", max_nesting_relation)
    print("max_nesting_depth:", max_nesting_depth)
